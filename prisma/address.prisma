enum AddressType {
    NORMAL
    BILLING
    SHIPPING
}

model Address {
    id        String  @id @map("_id") @db.ObjectId
    profileId String  @db.ObjectId
    profile   Profile @relation(fields: [profileId], references: [id], onDelete: Cascade)

    type                  AddressType @default(NORMAL)
    street                String?
    firstName             String?
    lastName              String?
    city                  String
    state                 String?
    postalCode            String?
    country               String?
    isDefault             Boolean     @default(false)
    additionalInfo        String?
    phoneNumber           String?
    additionalPhoneNumber String?

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@index([profileId, isDefault])
    @@index([profileId, type])
    @@map("addresses")
}
